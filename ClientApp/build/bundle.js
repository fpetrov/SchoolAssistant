var app=function(){"use strict";function t(){}function e(t,e){for(const n in e)t[n]=e[n];return t}function n(t){return t()}function r(){return Object.create(null)}function o(t){t.forEach(n)}function s(t){return"function"==typeof t}function i(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function c(t,e,n,r){if(t){const o=l(t,e,n,r);return t[0](o)}}function l(t,n,r,o){return t[1]&&o?e(r.ctx.slice(),t[1](o(n))):r.ctx}function u(t,e,n,r){if(t[2]&&r){const o=t[2](r(n));if(void 0===e.dirty)return o;if("object"==typeof o){const t=[],n=Math.max(e.dirty.length,o.length);for(let r=0;r<n;r+=1)t[r]=e.dirty[r]|o[r];return t}return e.dirty|o}return e.dirty}function a(t,e,n,r,o,s){if(o){const i=l(e,n,r,s);t.p(i,o)}}function p(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}function d(t){const e={};for(const n in t)"$"!==n[0]&&(e[n]=t[n]);return e}function f(t){return null==t?"":t}function h(t,e){t.appendChild(e)}function $(t,e,n){t.insertBefore(e,n||null)}function m(t){t.parentNode&&t.parentNode.removeChild(t)}function y(t){return document.createElement(t)}function g(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function _(t){return document.createTextNode(t)}function v(){return _(" ")}function b(){return _("")}function w(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function x(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function C(t,e){t.value=null==e?"":e}function E(t,e,n,r){null===n?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}class k{constructor(t=!1){this.is_svg=!1,this.is_svg=t,this.e=this.n=null}c(t){this.h(t)}m(t,e,n=null){this.e||(this.is_svg?this.e=g(e.nodeName):this.e=y(11===e.nodeType?"TEMPLATE":e.nodeName),this.t="TEMPLATE"!==e.tagName?e:e.content,this.c(t)),this.i(n)}h(t){this.e.innerHTML=t,this.n=Array.from("TEMPLATE"===this.e.nodeName?this.e.content.childNodes:this.e.childNodes)}i(t){for(let e=0;e<this.n.length;e+=1)$(this.t,this.n[e],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(m)}}let T;function A(t){T=t}const j=[],O=[];let N=[];const q=[],B=Promise.resolve();let M=!1;function R(t){N.push(t)}function P(t){q.push(t)}const S=new Set;let L=0;function U(){if(0!==L)return;const t=T;do{try{for(;L<j.length;){const t=j[L];L++,A(t),D(t.$$)}}catch(t){throw j.length=0,L=0,t}for(A(null),j.length=0,L=0;O.length;)O.pop()();for(let t=0;t<N.length;t+=1){const e=N[t];S.has(e)||(S.add(e),e())}N.length=0}while(j.length);for(;q.length;)q.pop()();M=!1,S.clear(),A(t)}function D(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(R)}}const H=new Set;let K;function z(){K={r:0,c:[],p:K}}function G(){K.r||o(K.c),K=K.p}function J(t,e){t&&t.i&&(H.delete(t),t.i(e))}function F(t,e,n,r){if(t&&t.o){if(H.has(t))return;H.add(t),K.c.push((()=>{H.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}else r&&r()}const I="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function W(t,e,n){const r=t.$$.props[e];void 0!==r&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function Y(t){t&&t.c()}function Q(t,e,r,i){const{fragment:c,after_update:l}=t.$$;c&&c.m(e,r),i||R((()=>{const e=t.$$.on_mount.map(n).filter(s);t.$$.on_destroy?t.$$.on_destroy.push(...e):o(e),t.$$.on_mount=[]})),l.forEach(R)}function V(t,e){const n=t.$$;null!==n.fragment&&(!function(t){const e=[],n=[];N.forEach((r=>-1===t.indexOf(r)?e.push(r):n.push(r))),n.forEach((t=>t())),N=e}(n.after_update),o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function X(t,e){-1===t.$$.dirty[0]&&(j.push(t),M||(M=!0,B.then(U)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Z(e,n,s,i,c,l,u,a=[-1]){const p=T;A(e);const d=e.$$={fragment:null,ctx:[],props:l,update:t,not_equal:c,bound:r(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(p?p.$$.context:[])),callbacks:r(),dirty:a,skip_bound:!1,root:n.target||p.$$.root};u&&u(d.root);let f=!1;if(d.ctx=s?s(e,n.props||{},((t,n,...r)=>{const o=r.length?r[0]:n;return d.ctx&&c(d.ctx[t],d.ctx[t]=o)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](o),f&&X(e,t)),n})):[],d.update(),f=!0,o(d.before_update),d.fragment=!!i&&i(d.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);d.fragment&&d.fragment.l(t),t.forEach(m)}else d.fragment&&d.fragment.c();n.intro&&J(e.$$.fragment),Q(e,n.target,n.anchor,n.customElement),U()}A(p)}class tt{$destroy(){V(this,1),this.$destroy=t}$on(e,n){if(!s(n))return t;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const t=r.indexOf(n);-1!==t&&r.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function et(t){let e,n;const r=t[3].default,o=c(r,t,t[2],null);return{c(){e=y("div"),o&&o.c(),x(e,"style",t[0]),x(e,"id",t[1]),x(e,"class","svelte-dj71z6")},m(t,r){$(t,e,r),o&&o.m(e,null),n=!0},p(t,[s]){o&&o.p&&(!n||4&s)&&a(o,r,t,t[2],n?u(r,t[2],s,null):p(t[2]),null),(!n||1&s)&&x(e,"style",t[0]),(!n||2&s)&&x(e,"id",t[1])},i(t){n||(J(o,t),n=!0)},o(t){F(o,t),n=!1},d(t){t&&m(e),o&&o.d(t)}}}function nt(t,e,n){let{$$slots:r={},$$scope:o}=e,{style:s=""}=e,{id:i=""}=e;return t.$$set=t=>{"style"in t&&n(0,s=t.style),"id"in t&&n(1,i=t.id),"$$scope"in t&&n(2,o=t.$$scope)},[s,i,o,r]}class rt extends tt{constructor(t){super(),Z(this,t,nt,et,i,{style:0,id:1})}}function ot(t){let e,n,r,o,i;const l=t[4].default,d=c(l,t,t[3],null);return{c(){e=y("button"),d&&d.c(),x(e,"style",t[1]),x(e,"class",n=f(t[2].class)+" svelte-11363yy")},m(n,c){$(n,e,c),d&&d.m(e,null),r=!0,o||(i=w(e,"click",(function(){s(t[0])&&t[0].apply(this,arguments)})),o=!0)},p(o,[s]){t=o,d&&d.p&&(!r||8&s)&&a(d,l,t,t[3],r?u(l,t[3],s,null):p(t[3]),null),(!r||2&s)&&x(e,"style",t[1]),(!r||4&s&&n!==(n=f(t[2].class)+" svelte-11363yy"))&&x(e,"class",n)},i(t){r||(J(d,t),r=!0)},o(t){F(d,t),r=!1},d(t){t&&m(e),d&&d.d(t),o=!1,i()}}}function st(t,n,r){let{$$slots:o={},$$scope:s}=n,{onClick:i}=n,{style:c}=n;return t.$$set=t=>{r(2,n=e(e({},n),d(t))),"onClick"in t&&r(0,i=t.onClick),"style"in t&&r(1,c=t.style),"$$scope"in t&&r(3,s=t.$$scope)},n=d(n),[i,c,n,s,o]}class it extends tt{constructor(t){super(),Z(this,t,st,ot,i,{onClick:0,style:1})}}function ct(t){let e;return{c(){e=_("Отправить")},m(t,n){$(t,e,n)},d(t){t&&m(e)}}}function lt(t){let e,n,r,o,s,i,c,l,u;return i=new it({props:{onClick:t[3],class:"text-lg send-button",$$slots:{default:[ct]},$$scope:{ctx:t}}}),{c(){e=y("div"),n=y("input"),s=v(),Y(i.$$.fragment),n.autofocus=!0,x(n,"class","text-u-sm svelte-rob3vu"),x(n,"type","text"),x(n,"placeholder",t[2]),x(n,"name",r=t[4].name),x(n,"id",o=t[4].name),n.required=!0,x(e,"class","svelte-rob3vu")},m(r,o){$(r,e,o),h(e,n),t[5](n),C(n,t[0]),h(e,s),Q(i,e,null),c=!0,n.focus(),l||(u=w(n,"input",t[6]),l=!0)},p(t,[e]){(!c||4&e)&&x(n,"placeholder",t[2]),(!c||16&e&&r!==(r=t[4].name))&&x(n,"name",r),(!c||16&e&&o!==(o=t[4].name))&&x(n,"id",o),1&e&&n.value!==t[0]&&C(n,t[0]);const s={};8&e&&(s.onClick=t[3]),128&e&&(s.$$scope={dirty:e,ctx:t}),i.$set(s)},i(t){c||(J(i.$$.fragment,t),c=!0)},o(t){F(i.$$.fragment,t),c=!1},d(n){n&&m(e),t[5](null),V(i),l=!1,u()}}}function ut(t,n,r){let{placeholder:o}=n,{value:s=""}=n,{input:i}=n,{onButtonClick:c=""}=n;return t.$$set=t=>{r(4,n=e(e({},n),d(t))),"placeholder"in t&&r(2,o=t.placeholder),"value"in t&&r(0,s=t.value),"input"in t&&r(1,i=t.input),"onButtonClick"in t&&r(3,c=t.onButtonClick)},n=d(n),[s,i,o,c,n,function(t){O[t?"unshift":"push"]((()=>{i=t,r(1,i)}))},function(){s=this.value,r(0,s)}]}class at extends tt{constructor(t){super(),Z(this,t,ut,lt,i,{placeholder:2,value:0,input:1,onButtonClick:3})}}function pt(t){let e,n,r,o,s;const i=t[2].default,l=c(i,t,t[1],null);return{c(){e=y("div"),n=y("span"),n.textContent="Помощник:",r=v(),o=y("p"),l&&l.c(),x(n,"class","text-sm"),x(o,"class","text-sm"),x(e,"class","message bot svelte-1xppub1")},m(t,i){$(t,e,i),h(e,n),h(e,r),h(e,o),l&&l.m(o,null),s=!0},p(t,e){l&&l.p&&(!s||2&e)&&a(l,i,t,t[1],s?u(i,t[1],e,null):p(t[1]),null)},i(t){s||(J(l,t),s=!0)},o(t){F(l,t),s=!1},d(t){t&&m(e),l&&l.d(t)}}}function dt(t){let e,n,r,o,s;const i=t[2].default,l=c(i,t,t[1],null);return{c(){e=y("div"),n=y("span"),n.textContent="Вы:",r=v(),o=y("p"),l&&l.c(),x(n,"class","text-sm"),x(o,"class","text-sm"),x(e,"class","message svelte-1xppub1")},m(t,i){$(t,e,i),h(e,n),h(e,r),h(e,o),l&&l.m(o,null),s=!0},p(t,e){l&&l.p&&(!s||2&e)&&a(l,i,t,t[1],s?u(i,t[1],e,null):p(t[1]),null)},i(t){s||(J(l,t),s=!0)},o(t){F(l,t),s=!1},d(t){t&&m(e),l&&l.d(t)}}}function ft(t){let e,n,r,o;const s=[dt,pt],i=[];function c(t,e){return"user"==t[0]?0:1}return e=c(t),n=i[e]=s[e](t),{c(){n.c(),r=b()},m(t,n){i[e].m(t,n),$(t,r,n),o=!0},p(t,[o]){let l=e;e=c(t),e===l?i[e].p(t,o):(z(),F(i[l],1,1,(()=>{i[l]=null})),G(),n=i[e],n?n.p(t,o):(n=i[e]=s[e](t),n.c()),J(n,1),n.m(r.parentNode,r))},i(t){o||(J(n),o=!0)},o(t){F(n),o=!1},d(t){i[e].d(t),t&&m(r)}}}function ht(t,e,n){let{$$slots:r={},$$scope:o}=e,{type:s=0}=e;return t.$$set=t=>{"type"in t&&n(0,s=t.type),"$$scope"in t&&n(1,o=t.$$scope)},[s,o,r]}class $t extends tt{constructor(t){super(),Z(this,t,ht,ft,i,{type:0})}}function mt(t){let e,n;return{c(){e=g("animate"),x(e,"dur",n=t[9]+"s"),x(e,"values","-2; 1"),x(e,"attributeName","offset"),x(e,"repeatCount","indefinite")},m(t,n){$(t,e,n)},p(t,r){512&r&&n!==(n=t[9]+"s")&&x(e,"dur",n)},d(t){t&&m(e)}}}function yt(t){let e,n;return{c(){e=g("animate"),x(e,"dur",n=t[9]+"s"),x(e,"values","-1.5; 1.5"),x(e,"attributeName","offset"),x(e,"repeatCount","indefinite")},m(t,n){$(t,e,n)},p(t,r){512&r&&n!==(n=t[9]+"s")&&x(e,"dur",n)},d(t){t&&m(e)}}}function gt(t){let e,n;return{c(){e=g("animate"),x(e,"dur",n=t[9]+"s"),x(e,"values","-1; 2"),x(e,"attributeName","offset"),x(e,"repeatCount","indefinite")},m(t,n){$(t,e,n)},p(t,r){512&r&&n!==(n=t[9]+"s")&&x(e,"dur",n)},d(t){t&&m(e)}}}function _t(t){let e,n,r,o,s,i,l,d,f,y,v,b,w;const C=t[14].default,k=c(C,t,t[13],null),T=k||function(t){let e;return{c(){e=g("rect"),x(e,"width",t[8]),x(e,"height",t[7]),x(e,"x","0"),x(e,"y","0"),x(e,"rx","5"),x(e,"ry","5")},m(t,n){$(t,e,n)},p(t,n){256&n&&x(e,"width",t[8]),128&n&&x(e,"height",t[7])},d(t){t&&m(e)}}}(t);let A=t[5]&&mt(t),j=t[5]&&yt(t),O=t[5]&&gt(t);return{c(){e=g("svg"),n=g("title"),r=_("Loading..."),o=g("rect"),i=g("defs"),l=g("clipPath"),T&&T.c(),d=g("linearGradient"),f=g("stop"),A&&A.c(),y=g("stop"),j&&j.c(),v=g("stop"),O&&O.c(),x(n,"id","loading-aria"),E(o,"fill","url("+t[6]+"#"+t[10]+")"),x(o,"clip-path",s="url("+t[6]+"#"+t[11]+")"),x(o,"width",t[8]),x(o,"height",t[7]),x(o,"x","0"),x(o,"y","0"),x(l,"id",t[11]),x(f,"stop-color",t[2]),x(f,"stop-opacity",t[4]),x(f,"offset","0%"),x(y,"stop-color",t[1]),x(y,"stop-opacity",t[3]),x(y,"offset","50%"),x(v,"stop-color",t[2]),x(v,"stop-opacity",t[4]),x(v,"offset","100%"),x(d,"id",t[10]),x(e,"width",t[8]),x(e,"height",t[7]),x(e,"viewBox",b="0 0 "+t[8]+" "+t[7]),x(e,"version","1.1"),x(e,"ria-labelledby","loading-aria"),x(e,"preserveAspectRatio",t[0])},m(t,s){$(t,e,s),h(e,n),h(n,r),h(e,o),h(e,i),h(i,l),T&&T.m(l,null),h(i,d),h(d,f),A&&A.m(f,null),h(d,y),j&&j.m(y,null),h(d,v),O&&O.m(v,null),w=!0},p(t,[n]){(!w||1088&n)&&E(o,"fill","url("+t[6]+"#"+t[10]+")"),(!w||2112&n&&s!==(s="url("+t[6]+"#"+t[11]+")"))&&x(o,"clip-path",s),(!w||256&n)&&x(o,"width",t[8]),(!w||128&n)&&x(o,"height",t[7]),k?k.p&&(!w||8192&n)&&a(k,C,t,t[13],w?u(C,t[13],n,null):p(t[13]),null):T&&T.p&&(!w||384&n)&&T.p(t,w?n:-1),(!w||2048&n)&&x(l,"id",t[11]),t[5]?A?A.p(t,n):(A=mt(t),A.c(),A.m(f,null)):A&&(A.d(1),A=null),(!w||4&n)&&x(f,"stop-color",t[2]),(!w||16&n)&&x(f,"stop-opacity",t[4]),t[5]?j?j.p(t,n):(j=yt(t),j.c(),j.m(y,null)):j&&(j.d(1),j=null),(!w||2&n)&&x(y,"stop-color",t[1]),(!w||8&n)&&x(y,"stop-opacity",t[3]),t[5]?O?O.p(t,n):(O=gt(t),O.c(),O.m(v,null)):O&&(O.d(1),O=null),(!w||4&n)&&x(v,"stop-color",t[2]),(!w||16&n)&&x(v,"stop-opacity",t[4]),(!w||1024&n)&&x(d,"id",t[10]),(!w||256&n)&&x(e,"width",t[8]),(!w||128&n)&&x(e,"height",t[7]),(!w||384&n&&b!==(b="0 0 "+t[8]+" "+t[7]))&&x(e,"viewBox",b),(!w||1&n)&&x(e,"preserveAspectRatio",t[0])},i(t){w||(J(T,t),w=!0)},o(t){F(T,t),w=!1},d(t){t&&m(e),T&&T.d(t),A&&A.d(),j&&j.d(),O&&O.d()}}}function vt(){return Math.random().toString(36).substring(2)}function bt(t,e,n){let r,o,{$$slots:s={},$$scope:i}=e,{preserveAspectRatio:c="xMidYMid meet",secondaryColor:l="#ecebeb",primaryColor:u="#f9f9f9",secondaryOpacity:a=1,primaryOpacity:p=1,animate:d=!0,baseUrl:f="",height:h=130,width:$=400,speed:m=2,uniqueKey:y}=e;return t.$$set=t=>{"preserveAspectRatio"in t&&n(0,c=t.preserveAspectRatio),"secondaryColor"in t&&n(1,l=t.secondaryColor),"primaryColor"in t&&n(2,u=t.primaryColor),"secondaryOpacity"in t&&n(3,a=t.secondaryOpacity),"primaryOpacity"in t&&n(4,p=t.primaryOpacity),"animate"in t&&n(5,d=t.animate),"baseUrl"in t&&n(6,f=t.baseUrl),"height"in t&&n(7,h=t.height),"width"in t&&n(8,$=t.width),"speed"in t&&n(9,m=t.speed),"uniqueKey"in t&&n(12,y=t.uniqueKey),"$$scope"in t&&n(13,i=t.$$scope)},t.$$.update=()=>{4096&t.$$.dirty&&n(11,r=y?`${y}-idClip`:vt()),4096&t.$$.dirty&&n(10,o=y?`${y}-idGradient`:vt())},[c,l,u,a,p,d,f,h,$,m,o,r,y,i,s]}class wt extends tt{constructor(t){super(),Z(this,t,bt,_t,i,{preserveAspectRatio:0,secondaryColor:1,primaryColor:2,secondaryOpacity:3,primaryOpacity:4,animate:5,baseUrl:6,height:7,width:8,speed:9,uniqueKey:12})}}const xt="Content-Type",Ct=Symbol();function Et(t={}){var e;return null===(e=Object.entries(t).find((([t])=>t.toLowerCase()===xt.toLowerCase())))||void 0===e?void 0:e[1]}function kt(t){return/^application\/.*json.*/.test(t)}const Tt=function(t,e,n=!1){return Object.entries(e).reduce(((e,[r,o])=>{const s=t[r];return Array.isArray(s)&&Array.isArray(o)?e[r]=n?[...s,...o]:o:e[r]="object"==typeof s&&"object"==typeof o?Tt(s,o,n):o,e}),{...t})},At={options:{},errorType:"text",polyfills:{},polyfill(t,e=!0,n=!1,...r){const o=this.polyfills[t]||("undefined"!=typeof self?self[t]:null)||("undefined"!=typeof global?global[t]:null);if(e&&!o)throw new Error(t+" is not defined");return n&&o?new o(...r):o}};class jt extends Error{}const Ot=t=>{const e=Object.create(null);t=t._addons.reduce(((n,r)=>r.beforeRequest&&r.beforeRequest(n,t._options,e)||n),t);const{_url:n,_options:r,_config:o,_catchers:s,_resolvers:i,_middlewares:c,_addons:l}=t,u=new Map(s),a=Tt(o.options,r);let p=n;const d=(t=>e=>t.reduceRight(((t,e)=>e(t)),e)||e)(c)(((t,e)=>(p=t,o.polyfill("fetch")(t,e))))(n,a),f=new Error,h=d.catch((t=>{throw{__wrap:t}})).then((t=>{if(!t.ok){const e=new jt;if(e.cause=f,e.stack=e.stack+"\nCAUSE: "+f.stack,e.response=t,e.url=p,"opaque"===t.type)throw e;return t.text().then((n=>{var r;if(e.message=n,"json"===o.errorType||"application/json"===(null===(r=t.headers.get("Content-Type"))||void 0===r?void 0:r.split(";")[0]))try{e.json=JSON.parse(n)}catch(t){}throw e.text=n,e.status=t.status,e}))}return t})),$=e=>e.catch((e=>{const n=e.__wrap||e,r=n.status&&u.get(n.status)||u.get(n.name)||e.__wrap&&u.has(Ct)&&u.get(Ct);if(r)return r(n,t);throw n})),m=t=>e=>$(t?h.then((e=>e&&e[t]())).then((t=>e?e(t):t)):h.then((t=>e?e(t):t))),y={_wretchReq:t,_fetchReq:d,_sharedState:e,res:m(null),json:m("json"),blob:m("blob"),formData:m("formData"),arrayBuffer:m("arrayBuffer"),text:m("text"),error(t,e){return u.set(t,e),this},badRequest(t){return this.error(400,t)},unauthorized(t){return this.error(401,t)},forbidden(t){return this.error(403,t)},notFound(t){return this.error(404,t)},timeout(t){return this.error(408,t)},internalError(t){return this.error(500,t)},fetchError(t){return this.error(Ct,t)}},g=l.reduce(((t,e)=>({...t,...e.resolver})),y);return i.reduce(((e,n)=>n(e,t)),g)},Nt={_url:"",_options:{},_config:At,_catchers:new Map,_resolvers:[],_deferred:[],_middlewares:[],_addons:[],addon(t){return{...this,_addons:[...this._addons,t],...t.wretch}},errorType(t){return{...this,_config:{...this._config,errorType:t}}},polyfills(t,e=!1){return{...this,_config:{...this._config,polyfills:e?t:Tt(this._config.polyfills,t)}}},url(t,e=!1){if(e)return{...this,_url:t};const n=this._url.split("?");return{...this,_url:n.length>1?n[0]+t+"?"+n[1]:this._url+t}},options(t,e=!1){return{...this,_options:e?t:Tt(this._options,t)}},headers(t){return{...this,_options:Tt(this._options,{headers:t||{}})}},accept(t){return this.headers({Accept:t})},content(t){return this.headers({[xt]:t})},auth(t){return this.headers({Authorization:t})},catcher(t,e){const n=new Map(this._catchers);return n.set(t,e),{...this,_catchers:n}},resolve(t,e=!1){return{...this,_resolvers:e?[t]:[...this._resolvers,t]}},defer(t,e=!1){return{...this,_deferred:e?[t]:[...this._deferred,t]}},middlewares(t,e=!1){return{...this,_middlewares:e?t:[...this._middlewares,...t]}},fetch(t=this._options.method,e="",n=null){let r=this.url(e).options({method:t});const o=Et(r._options.headers),s="object"==typeof n&&(!r._options.headers||!o||kt(o));return r=n?s?r.json(n,o):r.body(n):r,Ot(r._deferred.reduce(((t,e)=>e(t,t._url,t._options)),r))},get(t=""){return this.fetch("GET",t)},delete(t=""){return this.fetch("DELETE",t)},put(t,e=""){return this.fetch("PUT",e,t)},post(t,e=""){return this.fetch("POST",e,t)},patch(t,e=""){return this.fetch("PATCH",e,t)},head(t=""){return this.fetch("HEAD",t)},opts(t=""){return this.fetch("OPTIONS",t)},body(t){return{...this,_options:{...this._options,body:t}}},json(t,e){const n=Et(this._options.headers);return this.content(e||kt(n)&&n||"application/json").body(JSON.stringify(t))}};function qt(t="",e={}){return{...Nt,_url:t,_options:e}}qt.default=qt,qt.options=function(t,e=!1){At.options=e?t:Tt(At.options,t)},qt.errorType=function(t){At.errorType=t},qt.polyfills=function(t,e=!1){At.polyfills=e?t:Tt(At.polyfills,t)},qt.WretchError=jt;const{window:Bt}=I;function Mt(t,e,n){const r=t.slice();return r[11]=e[n],r}function Rt(t){let e,n,r=t[11].content+"";return{c(){e=new k(!1),n=b(),e.a=n},m(t,o){e.m(r,t,o),$(t,n,o)},p(t,n){8&n&&r!==(r=t[11].content+"")&&e.p(r)},d(t){t&&m(n),t&&e.d()}}}function Pt(t){let e,n;return e=new $t({props:{type:t[11].role,$$slots:{default:[Rt]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment)},m(t,r){Q(e,t,r),n=!0},p(t,n){const r={};8&n&&(r.type=t[11].role),16392&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(J(e.$$.fragment,t),n=!0)},o(t){F(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function St(t){let e,n;return e=new wt({props:{width:"910",height:"250",speed:"1.5",primaryColor:"#f3f3f3"}}),{c(){Y(e.$$.fragment)},m(t,r){Q(e,t,r),n=!0},i(t){n||(J(e.$$.fragment,t),n=!0)},o(t){F(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function Lt(t){let e,n,r,o,s,i=t[3].slice(1),c=[];for(let e=0;e<i.length;e+=1)c[e]=Pt(Mt(t,i,e));const l=t=>F(c[t],1,1,(()=>{c[t]=null}));let u=t[2]&&St();return{c(){e=y("h1"),e.textContent="Школьный помощник",n=v(),r=y("div");for(let t=0;t<c.length;t+=1)c[t].c();o=v(),u&&u.c(),x(e,"class","text-lg gradient-purple"),x(r,"class","messages svelte-4v3fx3")},m(t,i){$(t,e,i),$(t,n,i),$(t,r,i);for(let t=0;t<c.length;t+=1)c[t]&&c[t].m(r,null);h(r,o),u&&u.m(r,null),s=!0},p(t,e){if(8&e){let n;for(i=t[3].slice(1),n=0;n<i.length;n+=1){const s=Mt(t,i,n);c[n]?(c[n].p(s,e),J(c[n],1)):(c[n]=Pt(s),c[n].c(),J(c[n],1),c[n].m(r,o))}for(z(),n=i.length;n<c.length;n+=1)l(n);G()}t[2]?u?4&e&&J(u,1):(u=St(),u.c(),J(u,1),u.m(r,null)):u&&(z(),F(u,1,1,(()=>{u=null})),G())},i(t){if(!s){for(let t=0;t<i.length;t+=1)J(c[t]);J(u),s=!0}},o(t){c=c.filter(Boolean);for(let t=0;t<c.length;t+=1)F(c[t]);F(u),s=!1},d(t){t&&m(e),t&&m(n),t&&m(r),function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(c,t),u&&u.d()}}}function Ut(t){let e,n,r,o,s,i,c,l;function u(e){t[8](e)}function a(e){t[9](e)}let p={name:"message",placeholder:"Ваш вопрос",onButtonClick:t[7]};return void 0!==t[1]&&(p.input=t[1]),void 0!==t[0]&&(p.value=t[0]),e=new at({props:p}),O.push((()=>W(e,"input",u))),O.push((()=>W(e,"value",a))),s=new rt({props:{$$slots:{default:[Lt]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment),o=v(),Y(s.$$.fragment)},m(n,r){Q(e,n,r),$(n,o,r),Q(s,n,r),i=!0,c||(l=w(Bt,"keydown",t[6]),c=!0)},p(t,[o]){const i={};1&o&&(i.onButtonClick=t[7]),!n&&2&o&&(n=!0,i.input=t[1],P((()=>n=!1))),!r&&1&o&&(r=!0,i.value=t[0],P((()=>r=!1))),e.$set(i);const c={};16396&o&&(c.$$scope={dirty:o,ctx:t}),s.$set(c)},i(t){i||(J(e.$$.fragment,t),J(s.$$.fragment,t),i=!0)},o(t){F(e.$$.fragment,t),F(s.$$.fragment,t),i=!1},d(t){V(e,t),t&&m(o),V(s,t),c=!1,l()}}}function Dt(t,e,n){let r;function o(t){s(t),n(2,u=!0),qt().url("/ask").post({messages_history:r}).json((t=>{n(2,u=!1),s(function(t){return t.replace(/(https?:\/\/[^\s]+)/g,(function(t){return'<a href="'+t+'">'+t+"</a>"}))}(t.content),"assistant")})).catch((t=>{console.log(t)}))}function s(t,e="user"){0!=t.length&&(r.push({role:e,content:t}),n(3,r),window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"}),n(0,l=""),c.focus())}function i(t){13==t.keyCode&&o(l)}let c,l="",u=!1;return n(3,r=[{role:"system",content:"Представь, что ты школьный учитель. Тебе нужно отвечать на вопросы учеников. В твоих ответах ты должен быть приветлив и максимально четко объяснить школьную тему, которую у тебя спросили."}]),[l,c,u,r,o,i,t=>i(t),()=>o(l),function(t){c=t,n(1,c)},function(t){l=t,n(0,l)}]}return new class extends tt{constructor(t){super(),Z(this,t,Dt,Ut,i,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
